interface PlatformIconProps {
  platform: string
  className?: string
  showLabel?: boolean
}

export function PlatformIcon({ platform, className = "w-4 h-4", showLabel = false }: PlatformIconProps) {
  const getPlatformIcon = (platform: string) => {
    switch (platform) {
      case 'linux':
        return (
          <svg className={className} viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.567 9.344c-.221.607-.406 1.253-.555 1.922-.065.216-.11.424-.17.634-.115.413-.24.82-.386 1.216-.294.797-.67 1.544-1.115 2.237-.222.348-.463.68-.722.996-.13.159-.266.312-.408.459-.284.296-.584.575-.896.838-.624.525-1.306.98-2.03 1.364-.362.192-.733.369-1.11.53-.754.323-1.534.584-2.334.779-.4.097-.804.181-1.211.252-.814.143-1.636.237-2.464.283-.414.023-.829.035-1.244.035-.415 0-.83-.012-1.244-.035-.828-.046-1.65-.14-2.464-.283-.407-.071-.811-.155-1.211-.252-.8-.195-1.58-.456-2.334-.779-.377-.161-.748-.338-1.11-.53-.724-.384-1.406-.839-2.03-1.364-.312-.263-.612-.542-.896-.838-.142-.147-.278-.3-.408-.459-.259-.316-.5-.648-.722-.996-.445-.693-.821-1.44-1.115-2.237-.146-.396-.271-.803-.386-1.216-.06-.21-.105-.418-.17-.634-.149-.669-.334-1.315-.555-1.922C.86 8.253.5 7.14.5 6s.36-2.253.933-3.344c.221-.607.406-1.253.555-1.922.065-.216.11-.424.17-.634.115-.413.24-.82.386-1.216.294-.797.67-1.544 1.115-2.237.222-.348.463-.68.722-.996.13-.159.266-.312.408-.459.284-.296.584-.575.896-.838.624-.525 1.306-.98 2.03-1.364.362-.192.733-.369 1.11-.53.754-.323 1.534-.584 2.334-.779.4-.097.804-.181 1.211-.252.814-.143 1.636-.237 2.464-.283.414-.023.829-.035 1.244-.035.415 0 .83.012 1.244.035.828.046 1.65.14 2.464.283.407.071.811.155 1.211.252.8.195 1.58.456 2.334.779.377.161.748.338 1.11.53.724.384 1.406.839 2.03 1.364.312.263.612.542.896.838.142.147.278.3.408.459.259.316.5.648.722.996.445.693.821 1.44 1.115 2.237.146.396.271.803.386 1.216.06.21.105.418.17.634.149.669.334 1.315.555 1.922C23.14 3.747 23.5 4.86 23.5 6s-.36 2.253-.933 3.344z"/>
          </svg>
        )
      case 'macos':
        return (
          <svg className={className} viewBox="0 0 24 24" fill="currentColor">
            <path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"/>
          </svg>
        )
      case 'windows':
        return (
          <svg className={className} viewBox="0 0 24 24" fill="currentColor">
            <path d="M0,0V11.4H11.4V0ZM12.6,0V11.4H24V0ZM0,12.6V24H11.4V12.6ZM12.6,12.6V24H24V12.6Z"/>
          </svg>
        )
      default:
        return null
    }
  }

  const getPlatformLabel = (platform: string) => {
    switch (platform) {
      case 'linux':
        return 'Linux'
      case 'macos':
        return 'macOS'
      case 'windows':
        return 'Windows'
      default:
        return platform
    }
  }

  const icon = getPlatformIcon(platform)

  if (!icon) return null

  if (showLabel) {
    return (
      <div className="flex items-center text-gray-600" title={`${getPlatformLabel(platform)} supported`}>
        {icon}
        <span className="ml-1 text-xs">{getPlatformLabel(platform)}</span>
      </div>
    )
  }

  return icon
}